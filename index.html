<!DOCTYPE html>
<html lang="sv">
<head>
<meta charset="utf-8">
<title>Index</title>
<style>
body{background:#000;color:#e0e0e0;font-family:monospace}
h1{color:#6cf}
a{color:#9cf;text-decoration:none}
a:hover{text-decoration:underline}
ul{margin-bottom:30px}
</style>
</head>
<body>

<h1>Index</h1>
<ul id="file-list"></ul>

<h1>Filtyper som renderas</h1>
<ul>
<li>.html</li>
<li>.md</li>
<li>.markdown</li>
<li>.txt</li>
<li>.pdf</li>
<li>.png</li>
<li>.jpg</li>
<li>.jpeg</li>
<li>.gif</li>
<li>.svg</li>
<li>.zip</li>
<li>.csv</li>
<li>.json</li>
<li>.xml</li>
</ul>

<script>
const owner = "AntonWallin999";
const repo = "3";
const branch = "main";

const allowedExtensions = [
  ".html",".md",".markdown",".txt",".pdf",
  ".png",".jpg",".jpeg",".gif",".svg",
  ".zip",".csv",".json",".xml"
];

fetch("https://api.github.com/repos/" + owner + "/" + repo + "/contents?ref=" + branch)
  .then(function(response){return response.json();})
  .then(function(files){
    const list = document.getElementById("file-list");
    files.forEach(function(file){
      if(file.type === "file"){
        for(var i=0;i<allowedExtensions.length;i++){
          if(file.name.toLowerCase().endsWith(allowedExtensions[i])){
            const li = document.createElement("li");
            const a = document.createElement("a");
            a.href = file.name;
            a.textContent = file.name;
            li.appendChild(a);
            list.appendChild(li);
            break;
          }
        }
      }
    });
  });
</script>

</body>
</html>
